<div th:fragment="lineChart(title, labels, values)" xmlns:th="http://www.w3.org/1999/xhtml">
    <h2 th:text="${title}"></h2>
    <canvas th:id="${title.replaceAll(' ', '') + 'Line'}"></canvas>
    <script th:inline="javascript">
        /*<![CDATA[*/
        document.addEventListener("DOMContentLoaded", function () {
            const ctx = document.getElementById([[${title.replaceAll(' ', '') + 'Line'}]])?.getContext('2d');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: [[${labels}]],
                        datasets: [{
                            label: '[[${title}]]',
                            data: [[${values}]],
                            borderColor: 'rgba(75, 192, 192, 1)',
                            backgroundColor: 'rgba(75, 192, 192, 0.2)',
                            tension: 0.3,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        });
        /*]]>*/
    </script>
</div>
