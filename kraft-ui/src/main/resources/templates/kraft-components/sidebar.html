<div th:fragment="sidebar-container" xmlns:th="http://www.w3.org/1999/xhtml" >
    <div class="h-screen w-80 bg-white overflow-y-auto sticky top-0 left-0 border-l-2 border-l-black
            transition-all duration-300 transform translate-x-0"
         id="sidebar">

        <!-- Title -->
        <div class="py-5 mb-2 px-4 flex items-center justify-start">
            <!--            <span class="text-2xl">üè¢</span>-->
            <h3 class="text-lg font-medium sidebar-text ml-2" th:text="${title}">KraftAdmin</h3>
        </div>

        <div class="p-4 pb-24">
            <ul class="flex flex-col space-y-2">
                <li>
                    <a class="flex items-center w-full px-4 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition"
                       th:href="@{/admin/dashboard}">
                        <span class="text-lg w-5 text-center flex-shrink-0">üìö</span>
                        <span class="sidebar-text ml-3">Dashboard</span>
                    </a>
                </li>

                <li>
                    <a class="flex items-center w-full px-4 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition"
                       th:href="@{/admin/modules}">
                        <span class="text-lg w-5 text-center flex-shrink-0">üìö</span>
                        <span class="sidebar-text ml-3">Modules</span>
                    </a>
                </li>

                <hr class="border-dark sidebar-text"/>

                <li>
                    <button type="button"
                            onclick="document.getElementById('entity-list').classList.toggle('hidden')"
                            class="w-full flex items-center justify-between px-4 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition group">
                        <div class="flex items-center">
                            <span class="text-lg w-5 text-center flex-shrink-0">üìÅ</span>
                            <span class="sidebar-text ml-3 font-semibold">Crud</span>
                        </div>
                        <i class="fa fa-chevron-down group-hover:rotate-180 transition-transform sidebar-text"></i>
                    </button>

                    <!-- Scrollable inner container with max-height -->
                    <ul class="space-y-2 mt-2 max-h-32 overflow-y-auto hidden sidebar-text" id="entity-list">
                        <li th:each="entity : ${entities}">
                            <a class="flex items-center px-4 py-2 ml-5 mr-5 border border-blue-500 rounded capitalize hover:bg-blue-500 hover:text-white transition"
                               th:href="@{/admin/crud/{entity}(entity=${entity.name.value})}">
                                <span class="text-lg w-5 text-center flex-shrink-0"
                                      th:if="${entity.icon != null and entity.icon != ''}"
                                      th:text="${entity.icon}"></span>
                                <span class="text-lg w-5 text-center flex-shrink-0"
                                      th:unless="${entity.icon != null and entity.icon != ''}">üìã</span>
                                <span class="sidebar-text ml-3" th:text="${entity.name.key}"></span>
                            </a>
                        </li>
                    </ul>
                </li>

                <hr class="border-dark sidebar-text"/>

                <li>
                    <button type="button"
                            onclick="document.getElementById('monitoring-list').classList.toggle('hidden')"
                            class="w-full flex items-center justify-between px-4 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition group">
                        <div class="flex items-center">
                            <span class="text-lg w-5 text-center flex-shrink-0">üìä</span>
                            <span class="sidebar-text ml-3 font-semibold">Monitoring</span>
                        </div>
                        <span class="sidebar-text">&gt;&gt;</span>
                    </button>

                    <div class="space-y-2 mt-2 max-h-32 overflow-y-auto hidden sidebar-text" id="monitoring-list">
                        <ul>
                            <li>
                                <a class="flex items-center px-4 py-2 ml-5 mr-5 border border-blue-500 rounded capitalize hover:bg-blue-500 hover:text-white transition"
                                   th:href="@{/admin/actions}">
                                    <span class="text-lg w-5 text-center flex-shrink-0">‚ö°</span>
                                    <span class="sidebar-text ml-3">Actions</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </li>


                <hr class="border-dark sidebar-text"/>

                <li>
                    <a class="flex items-center w-full px-4 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition"
                       th:href="@{/admin/administrators}">
                        <span class="text-lg w-5 text-center flex-shrink-0">üë§</span>
                        <span class="sidebar-text ml-3">Users</span>
                    </a>
                </li>
            </ul>
        </div>

        <!-- Sidebar Footer -->
        <div class="absolute bottom-0 left-0 right-0 px-4 py-3 bg-white border-t">
            <ul class="flex flex-col space-y-2 w-full">
                <li>
                    <a class="flex items-center w-full px-2 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition"
                       id="footer-feedback"
                       th:href="@{/admin/roles}">
                        <span class="text-lg w-6 h-6 flex items-center justify-center flex-shrink-0">üí¨</span>
                        <span class="sidebar-text ml-3">Feedback</span>
                    </a>
                </li>
                <li>
                    <a class="flex items-center w-full px-2 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition"
                       id="footer-settings"
                       th:href="@{/admin/settings}">
                        <span class="text-lg w-6 h-6 flex items-center justify-center flex-shrink-0">‚öôÔ∏è</span>
                        <span class="sidebar-text ml-3">Settings</span>
                    </a>
                </li>
                <li>
                    <a class="flex items-center w-full px-2 py-2 border border-blue-500 rounded hover:bg-blue-500 hover:text-white transition"
                       id="footer-logout"
                       th:href="@{/admin/auth/logout}">
                        <span class="text-lg w-6 h-6 flex items-center justify-center flex-shrink-0">üö™</span>
                        <span class="sidebar-text ml-3">Logout</span>
                    </a>
                </li>
            </ul>
        </div>

    </div>
</div>
