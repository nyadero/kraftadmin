document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".sortable-header"),e=new URL(window.location.href);t.forEach(o=>{o.addEventListener("click",l=>{l.preventDefault();const s=o.dataset.field,a=o.dataset.defaultOrder||"asc";let i=e.searchParams.get("filter.sortBy")||"",c=e.searchParams.get("filter.sortOrder")||"",d=i?i.split(","):[],n=c?c.split(","):[];const r=d.indexOf(s);r>-1?n[r]=n[r]==="asc"?"desc":"asc":(d.push(s),n.push(a)),e.searchParams.set("filter.sortBy",d.join(",&")),e.searchParams.set("filter.sortOrder",n.join(",&")),window.location.href=e.toString()})})});window.addEventListener("click",t=>{t.target.closest(".action-dropdown")||document.querySelectorAll(".actions-menu").forEach(e=>{e.style.display="none"})});window.showDeleteModal=function(t,e){const o=document.getElementById("deleteForm");o&&(o.action=`/admin/crud/${e}/delete/${t}`,document.getElementById("deleteModal").style.display="flex")};window.closeDeleteModal=function(){const t=document.getElementById("deleteModal");t&&(t.style.display="none")};window.toggleActions=function(t){const e=t.nextElementSibling,o=e.style.display==="block";document.querySelectorAll(".actions-menu").forEach(l=>{l.style.display="none",l.classList.remove("align-left")}),o?e.style.display="none":(e.style.display="block",e.getBoundingClientRect().right>window.innerWidth&&(e.style.left="auto"),e.style.right="0")};
